{% extends 'base.html' %}
{% block title %}UPBIT AutoTrading · 개인 설정{% endblock %}
{% block content %}
<style>
body{background:#f6f8fb;font-size:18px;}
.navbar{background:#1e2b45;}
.card-head{background:#22315a;color:#fff;font-size:1.25rem;padding:1.2rem 2rem;display:flex;align-items:center;gap:.7rem;border-radius:1.25rem 1.25rem 0 0;}
.card{border-radius:1.25rem;margin-bottom:2.5rem;box-shadow:0 4px 24px #0001;}
.card-body{padding:2.5rem;}
label.form-label{font-size:1.08rem;font-weight:600;color:#233;}
input.form-control,select.form-select{font-size:1.1rem;padding:0.9rem 1.1rem;}
input[type="password"]{letter-spacing:0.2em;}
.btn-primary{padding:.8rem 2.5rem;font-size:1.15rem;}
.container{max-width:740px;margin-top:56px;}
.section-label{font-size:1.12rem;font-weight:700;color:#3753a9;margin-bottom:1.2rem;}
.bi-key,.bi-lock,.bi-person-circle,.bi-telegram{font-size:1.6rem;}
@media (max-width:1200px){.container{max-width:98vw;}}
</style>
<div class="container">
  <div class="card shadow-sm mb-5">
    <div class="card-head">
      <i class="bi bi-person-circle"></i> 거래소 & 텔레그램 연결 정보
      <i class="bi bi-question-circle ms-auto" data-bs-toggle="tooltip" title="API Key/Secret, 텔레그램 등 서비스 연동 정보를 등록합니다."></i>
    </div>
    <div class="card-body">
      <form>
        <!-- 거래소 구조 -->
        <div class="section-label"><i class="bi bi-bar-chart-steps me-2"></i>거래소 설정</div>
        <div class="mb-4">
          <label class="form-label">거래소 선택</label>
          <select class="form-select form-select-lg" id="exchange">
            <option value="UPBIT">업비트</option>
            <option value="BINANCE">바이낸스</option>
          </select>
        </div>
        <div class="mb-4">
          <label class="form-label"><i class="bi bi-key me-2"></i>API Key</label>
          <input type="password" class="form-control form-control-lg" id="api-key" placeholder="API Key 입력">
        </div>
        <div class="mb-4">
          <label class="form-label"><i class="bi bi-lock me-2"></i>API Secret</label>
          <input type="password" class="form-control form-control-lg" id="api-secret" placeholder="Secret 입력">
        </div>
        
        <hr class="my-5">
        <div class="section-label"><i class="bi bi-telegram me-2"></i>텔레그램 연동 설정</div>
        <div class="mb-4">
          <label class="form-label"><i class="bi bi-telegram me-2"></i>Bot Token</label>
          <input type="password" class="form-control form-control-lg" id="tg-bot" placeholder="텔레그램 Bot Token 입력">
        </div>
        <div class="mb-4">
          <label class="form-label"><i class="bi bi-person-fill me-2"></i>Chat ID</label>
          <input type="text" class="form-control form-control-lg" id="tg-chat" placeholder="텔레그램 Chat ID 입력">
        </div>
        <div class="mb-4">
          <label class="form-label"><i class="bi bi-bell me-2"></i>텔레그램 알림 ON/OFF</label>
          <div class="form-check form-switch ps-5">
            <input class="form-check-input" type="checkbox" id="tgOnOff" checked>
            <label class="form-check-label" for="tgOnOff" style="font-size:1.02rem;">알림 받기</label>
          </div>
        </div>
        <div class="mb-4">
          <label class="form-label"><i class="bi bi-list-check me-2"></i>알림 받을 이벤트</label>
          <div class="row mb-2">
            <div class="col-6 col-lg-4">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="alarm1" checked>
                <label class="form-check-label" for="alarm1">매수 체결</label>
              </div>
            </div>
            <div class="col-6 col-lg-4">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="alarm2" checked>
                <label class="form-check-label" for="alarm2">매도 체결</label>
              </div>
            </div>
            <div class="col-6 col-lg-4">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="alarm3" checked>
                <label class="form-check-label" for="alarm3">손절 발생</label>
              </div>
            </div>
            <div class="col-6 col-lg-4">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="alarm4">
                <label class="form-check-label" for="alarm4">익절 발생</label>
              </div>
            </div>
            <div class="col-6 col-lg-4">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="alarm5">
                <label class="form-check-label" for="alarm5">시스템 오류/경고</label>
              </div>
            </div>
            <div class="col-6 col-lg-4">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="alarm6">
                <label class="form-check-label" for="alarm6">전략 변경/중지</label>
              </div>
            </div>
          </div>
        </div>
        <div class="mb-5">
          <label class="form-label"><i class="bi bi-clock me-2"></i>알림 수신 시간대</label>
          <div class="row g-3 align-items-center">
            <div class="col-4 col-lg-3">
              <input type="time" class="form-control form-control-lg" id="notify-from" value="08:00">
            </div>
            <div class="col-1 text-center">~</div>
            <div class="col-4 col-lg-3">
              <input type="time" class="form-control form-control-lg" id="notify-to" value="22:00">
            </div>
            <div class="col text-muted" style="font-size:1rem;">* 지정 시간 외에는 알림이 발송되지 않습니다.</div>
          </div>
        </div>
        <button type="submit" class="btn btn-primary w-100 mt-2">저장 / 갱신</button>
      </form>
      <div class="mt-5">
        <span class="text-muted">마지막 저장: 2025-05-18 15:22</span>
      </div>
    </div>
  </div>
</div>
<script>
document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(el=>new bootstrap.Tooltip(el));
</script>
{% endblock %}
